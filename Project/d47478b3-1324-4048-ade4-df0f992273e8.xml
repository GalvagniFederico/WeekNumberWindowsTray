{"CLs":[{"__type":"LD","Var":"iEnable"},{"__type":"IST","EID":"040a91f0-961c-46fc-bbc6-6ffd9b09f82d","H":130,"Ix":1,"TXT":"CurrentEpoch:=DtToSec(GetTime());","W":573,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Type":"TIME","Var":"t#10h"},{"__type":"PRM","Arg":"Reset","Ix":1,"Type":"BOOL","Var":""}],"Ix":3,"Name":"AccumulationTimer","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":2,"Type":"TIME","Var":"ElpasedTime"}],"Var":"lElapsedTime"}],"LRI":4,"RRI":5,"VLs":[]}
{"CLs":[{"__type":"LD","Not":true,"Var":"iEnable"},{"__type":"LD","Ix":1,"Var":"Error","Y":1},{"__type":"LD","Ix":2,"Not":true,"Var":"OperatingEndDelay.Q","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":4,"Type":"TIME","Var":"t#50ms"}],"Ix":8,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":5,"Type":"TIME","Var":""}],"X":2,"Var":"OperatingEndDelay"},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":6,"Type":"TIME","Var":"t#50ms"}],"Ix":9,"Name":"TOF","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":7,"Type":"TIME","Var":""}],"X":3,"Var":"OperatingEndDelay_OFF"},{"__type":"ST","Ix":3,"S":true,"Var":"OperatingEnd","X":4}],"CMT":"Determine if instruction execution is completed","LRI":10,"RRI":11,"VLs":[{"Ix":12,"X":1}]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"iEnable"},{"__type":"LD","Var":"OperatingEnd","X":1},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":4,"Type":"TIME","Var":"t#20ms"}],"Ix":6,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":5,"Type":"TIME","Var":""}],"X":2,"Var":"OperatingChangeDelay"},{"__type":"ST","Ix":2,"RS":true,"Var":"OperatingEnd","X":3},{"__type":"ST","Ix":3,"RS":true,"Var":"Error","X":3,"Y":1}],"LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":3}]}
{"CLs":[{"__type":"LD","Ix":2,"Var":"iEnable"},{"__type":"LD","Var":"_EIP_EtnOnlineSta","X":1},{"__type":"LD","Ix":1,"Not":true,"Var":"MQTTClient_inst.Busy","X":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Set"},{"__type":"PRM","Arg":"Reset1","Ix":4,"Type":"BOOL","Var":"OperatingEnd"}],"Ix":5,"Name":"RS","Out":[{"__type":"PF","Arg":"Q1"}],"X":3,"Var":"RS_inst"},{"__type":"ST","Ix":3,"Var":"Operating","X":4}],"CMT":"Accept trigger","LRI":6,"RRI":7,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"01a3ff03-f198-4e77-98f0-dee9d03a6d20","Up":true,"Var":"Operating"},{"__type":"IST","EID":"76826606-9c68-4adc-b5c2-315bafc55aec","H":442.99999999999989,"Ix":1,"TXT":"\/\/ Communication settings with MQTT server\u000d\u000aconnectionSettings.TLSUse := FALSE;\u000d\u000aconnectionSettings.IpAdr := IpAdress; \/\/ MQTT server host name\u000d\u000aconnectionSettings.PortNo := PortNO; \/\/ MQTT server port number\u000d\u000a\u000d\u000aconnectionSettings.TLSSessionName := 'TLSSession0';\u000d\u000aconnectionSettings.WillCfg.WillTopic := 'Client\/Will';\u000d\u000aconnectionSettings.WillCfg.WillMsg := CONCAT(MQTT_ClientID, ' disconnected');\u000d\u000a\u000d\u000a\u000d\u000aconnectionSettings.WillCfg.WillRetain := FALSE;\u000d\u000aconnectionSettings.WillCfg.WillQoS := BYTE#0;\u000d\u000a\u000d\u000aconnectionSettings.WillCfg.WillFlag := FALSE; \/\/ Will function enabled\u000d\u000aconnectionSettings.CleanSession := TRUE; \/\/ Clean Session enabled\u000d\u000a\u000d\u000a\/\/ PUBLISH message settings\u000d\u000apubFlags.PubQoS := BYTE#0;\u000d\u000apubFlags.RetainFlag := FALSE;\u000d\u000a\u000d\u000aclientID:=MQTT_ClientID;\u000d\u000aSubTopic:=CONCAT(PublishTopic, '\/response');","W":1127,"X":1}],"CMT":"Communication parameter settings","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Operating"},{"__type":"LD","Ix":1,"Not":true,"Var":"Execute_pub","X":1},{"__type":"IST","EID":"a1f50c36-bf3e-4b61-a72f-dd4343fa43c2","H":483,"Ix":2,"TXT":"IndexToSend:=-1;\u000d\u000aStackFIFO(IndexStack[0], IndexToSend, SizeOfAry(IndexStack), IndexOfIndexStack);\u000d\u000a\u000d\u000aIF IndexToSend >= 0 THEN\u000d\u000a\u0009\/\/ Check if ID it's already been generated by checking if its a fresh message or a old one\u000d\u000a\u0009\u000d\u000a\u0009IF MessageStack[IndexToSend].Status = BYTE#01 THEN\u000d\u000a\u0009\u0009MessageStack[IndexToSend].ID := incrementalID;\u000d\u000a\u0009\u0009incrementalID:=incrementalID+1;\u000d\u000a\u0009END_IF;\u000d\u000a\u0009MessageStack[IndexToSend].LastSendDate:=(CurrentEpoch * 1_000) + gTIME_Milliseconds;\u000d\u000a\u0009MessageStack[IndexToSend].Status:=BYTE#5;\u000d\u000a\u0009\u000d\u000a\u0009msgJson:= CONCAT('{\"IndiceBuffer\":', UINT_TO_STRING(IndexToSend), ',');\u000d\u000a\u0009msgJson:= CONCAT(msgJson, '\"CreationDate\":',MessageStack[IndexToSend].CreationDate, ',');\u000d\u000a\u0009msgJson:= CONCAT(msgJson, '\"ID\":',UINT_TO_STRING(MessageStack[IndexToSend].ID), ',');\u000d\u000a\u0009msgJson:= CONCAT(msgJson, '\"Category\":', '\"',MessageStack[IndexToSend].Category, '\",');\u000d\u000a\u0009msgJson := CONCAT( msgJson, RIGHT(MessageStack[IndexToSend].Msg, LEN(MessageStack[IndexToSend].Msg)-1));\u000d\u000a\u0009\u000d\u000a\u0009pubMsg:=msgJson;\u000d\u000a\u0009\u000d\u000a\u0009\u000d\u000a\u0009Execute_pub:=TRUE;\u000d\u000aEND_IF;","W":1059,"X":2}],"CMT":"Message preparation","LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Operating"},{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":5,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"ClientID","Ix":6,"Type":"STRING[256]","Var":"clientID"},{"__type":"PRM","Arg":"ConnectionSettings","Ix":7,"Type":"OmronLib\\MQTT_Comm\\sConnectionSettings","Var":"connectionSettings"},{"__type":"PRM","Arg":"KeepAlive","Ix":8,"Type":"UINT","Var":"UINT#60"},{"__type":"PRM","Arg":"Timeout","Ix":9,"Type":"UINT","Var":"UINT#10"},{"__type":"PRM","Arg":"DiscardMsgTime","Ix":10,"Type":"UINT","Var":"UINT#1000"}],"Ix":35,"Name":"\\\\OmronLib\\MQTT_Comm\\MQTTClient","Out":[{"__type":"PF","Arg":"Connected"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":11,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"Busy","Ix":12,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"DiscardMsgNum","Ix":13,"Type":"UDINT","Var":""},{"__type":"PRM","Arg":"SessionPresent","Ix":14,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":15,"Type":"BOOL","Var":"MQTTClient_error"},{"__type":"PRM","Arg":"ErrorID","Ix":16,"Type":"WORD","Var":"MQTTClient_errorID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":17,"Type":"DWORD","Var":""}],"UD":true,"X":1,"Var":"MQTTClient_inst"},{"__type":"FB","In":[{"__type":"PF","Arg":"In"},{"__type":"PRM","Arg":"PT","Ix":33,"Type":"TIME","Var":"T#20ms"}],"Ix":37,"Name":"TON","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"ET","Ix":34,"Type":"TIME","Var":""}],"X":2,"Var":"TON_DelayConnection"},{"__type":"ST","Ix":4,"Var":"Connected","X":3},{"__type":"LD","Ix":2,"Var":"Connected","X":1,"Y":1},{"__type":"LD","Ix":3,"Not":true,"Var":"MQTTPubString_inst.Busy","X":2,"Y":1},{"__type":"LD","Ix":1,"Var":"Execute_pub","X":3,"Y":1},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":18,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"PacketID","IO":true,"Ix":19,"Type":"UINT","Var":"PacketID"},{"__type":"PRM","Arg":"MsgType","IO":true,"Ix":20,"Type":"USINT","Var":"MsgType"},{"__type":"PRM","Arg":"PubMsg","IO":true,"Ix":21,"Type":"STRING[1986]","Var":"pubMsg"},{"__type":"PRM","Arg":"PubSettings","Ix":22,"Type":"OmronLib\\MQTT_Comm\\sPubFlags","Var":"pubFlags"},{"__type":"PRM","Arg":"Topic","Ix":23,"Type":"STRING[512]","Var":"PublishTopic"},{"__type":"PRM","Arg":"Timeout","Ix":24,"Type":"UINT","Var":"UINT#6"}],"Ix":36,"Name":"\\\\OmronLib\\MQTT_Comm\\MQTTPubString","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":25,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"PacketID","IO":true,"Ix":26,"Type":"UINT","Var":"PacketID"},{"__type":"PRM","Arg":"MsgType","IO":true,"Ix":27,"Type":"USINT","Var":"MsgType"},{"__type":"PRM","Arg":"PubMsg","IO":true,"Ix":28,"Type":"STRING[1986]","Var":"pubMsg"},{"__type":"PRM","Arg":"Busy","Ix":29,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":30,"Type":"BOOL","Var":"MQTTPub_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":31,"Type":"WORD","Var":"MQTTPub_ErrorID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":32,"Type":"DWORD","Var":"MQTTPub_ErrorIDEx"}],"UD":true,"X":4,"Y":1,"Var":"MQTTPubString_inst"},{"__type":"HL","X":4}],"LRI":38,"RRI":39,"VLs":[{"Ix":40,"X":1}]}
{"CLs":[{"__type":"LD","Var":"MQTTPubString_inst.Done"},{"__type":"ST","Ix":1,"RS":true,"Var":"Execute_pub","X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"bb9cf30c-2d21-4033-a19d-8b405f95a265","Up":true,"Var":"MQTTPubString_inst.Done"},{"__type":"IST","EID":"1042fa95-0a7c-4e64-a6f5-0356b924f4c3","H":130,"Ix":1,"TXT":"MessageStack[IndexToSend].Status:= BYTE#2;\u000d\u000a","W":580,"X":1}],"CMT":"Messaggio inviato correttamente","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"9f9d116b-a175-4fd9-8357-7526dea221ac","Up":true,"Var":"MQTTPubString_inst.Done"},{"__type":"LD","Ix":1,"Var":"MQTTPub_Error","X":1},{"__type":"IST","EID":"b049e348-db3c-48c0-b419-6ce1345dd4b3","H":130,"Ix":2,"TXT":"MessageStack[IndexToSend].Status:=BYTE#7;\u000d\u000a","W":580,"X":2}],"CMT":"Messaggio inviato in errore","LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Connected"},{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":1,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"RcvMsg","IO":true,"Ix":2,"Type":"STRING[1986]","Var":"rcvMsg"},{"__type":"PRM","Arg":"SubQoS","Ix":3,"Type":"BYTE","Var":""},{"__type":"PRM","Arg":"Topic","Ix":4,"Type":"STRING[512]","Var":"SubTopic"},{"__type":"PRM","Arg":"Timeout","Ix":5,"Type":"UINT","Var":"uint#10"}],"Ix":14,"Name":"\\\\OmronLib\\MQTT_Comm\\MQTTSubString","Out":[{"__type":"PF","Arg":"Subscribed"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":6,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"RcvMsg","IO":true,"Ix":7,"Type":"STRING[1986]","Var":"rcvMsg"},{"__type":"PRM","Arg":"Status","Ix":8,"Type":"SINT","Var":""},{"__type":"PRM","Arg":"Received","Ix":9,"Type":"BOOL","Var":"MQTT_SubString_received"},{"__type":"PRM","Arg":"RcvTopic","Ix":10,"Type":"STRING[512]","Var":""},{"__type":"PRM","Arg":"Error","Ix":11,"Type":"BOOL","Var":"MQTTSubString_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":12,"Type":"WORD","Var":"MQTTSubString_ErrorID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":13,"Type":"DWORD","Var":""}],"UD":true,"X":1,"Var":"MQTTSubString_inst"}],"LRI":15,"RRI":16,"VLs":[]}
{"CLs":[{"__type":"LD","Id":"38cf6096-2f19-4db2-b737-efc41f34d93b","Up":true,"Var":"MQTT_SubString_received"},{"__type":"IST","EID":"b8472d2d-8987-4507-9fbf-166bab4987e0","H":201,"Ix":1,"TXT":"receiveIndex := STRING_TO_UINT(rcvMsg);\u000d\u000aIF receiveIndex >= 0 AND receiveIndex < SizeOfAry(MessageStack) THEN\u000d\u000a\u0009IF MessageStack[receiveIndex].Status=BYTE#02 THEN\u000d\u000a\u0009\u0009MessageStack[receiveIndex].Status:=BYTE#0;\u000d\u000a\u0009END_IF;\u000d\u000aEND_IF;","W":1002,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Operating"},{"__type":"IST","EID":"61730874-ca65-493f-837b-87ffba50c233","H":359,"Ix":1,"TXT":"if IndexOfIndexStack <SizeOfAry(IndexStack)-1 THEN\u000d\u000aIF indiceControlloTimeout > UINT_TO_SINT(SizeOfAry(MessageStack)-1)THEN\u000d\u000a\u0009indiceControlloTimeout:=0;\u000d\u000aELSE\u000d\u000a\u0009indiceControlloTimeout:=indiceControlloTimeout+1;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\u0009IF ((CurrentEpoch * 1_000) + gTIME_Milliseconds) -  MessageStack[indiceControlloTimeout].LastSendDate >= 2000\u000d\u000a\u0009and (MessageStack[indiceControlloTimeout].Status = BYTE#2 OR\u000d\u000a\u0009MessageStack[indiceControlloTimeout].Status = BYTE#1 or\u000d\u000a\u0009MessageStack[indiceControlloTimeout].Status = BYTE#5 or\u000d\u000a\u0009MessageStack[indiceControlloTimeout].Status = BYTE#7 or\u000d\u000a\u0009MessageStack[indiceControlloTimeout].Status = BYTE#6\u000d\u000a\u0009) THEN\u000d\u000a\u0009\u000d\u000a\u0009\u0009StackPush(In:=indiceControlloTimeout, InOut:=IndexStack[0], Size:=SizeOfAry(IndexStack), Num:=IndexOfIndexStack);\u000d\u000a\u0009\u0009MessageStack[indiceControlloTimeout].Status:=BYTE#6;\u000d\u000a\u0009\u0009timeout:=NOT timeout;\u000d\u000a\u0009END_IF;\u000d\u000aEND_IF;","W":1079,"X":1}],"CMT":"Check timed out message","LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Operating"},{"__type":"IST","EID":"3be5bf64-a759-48ed-81c5-9f8df0eac817","H":326,"Ix":1,"TXT":"TON_Reset_TimeSyncRequirment(In:=TimeSyncTonEnable, PT:=T#24h);\u000d\u000aIF TON_Reset_TimeSyncRequirment.Q THEN\u000d\u000a\u0009gTIME_SYNCHRONIZED:=FALSE;\u000d\u000a\u0009TimeSyncRequired:=TRUE;\u000d\u000aEND_IF;\u000d\u000a\u000d\u000aIF NOT gTIME_SYNCHRONIZED THEN\u000d\u000a\u0009CASE Stage OF\u000d\u000a\u0009\u00090:\u0009\u0009\u000d\u000a\u0009\u0009TimeSyncTonEnable:=FALSE;\u000d\u000a\u0009\u0009timeRequest:='iNeedTime';\u000d\u000a\u0009\u0009send_tsReq:=TRUE;\u000d\u000a\u0009\u0009receive_time:=TRUE;\u000d\u000a\u0009\u0009gTIME_SYNCHRONIZED:=FALSE;\u000d\u000a\u0009\u0009Stage:=1;\u000d\u000a\u0009\u0009\u000d\u000a\u0009\u00091:\u000d\u000a\u0009\u0009IF MQTTPubString_inst_timeSync.Done THEN\u000d\u000a\u0009\u0009\u0009send_tsReq:=FALSE;\u000d\u000a\u0009\u0009\u0009Stage:=2;\u000d\u000a\u0009\u0009END_IF;\u000d\u000a\u0009\u0009\u000d\u000a\u0009\u00092: \u000d\u000a\u0009\u0009IF TimeSyncDone THEN\u000d\u000a\u0009\u0009\u0009TimeSyncTonEnable:=TRUE;\u000d\u000a\u0009\u0009\u0009gTIME_SYNCHRONIZED:=TRUE;\u000d\u000a\u0009\u0009ELSE\u000d\u000a\u0009\u0009\u0009Stage:=0;\u000d\u000a\u0009\u0009END_IF;\u000d\u000a\u0009\u0009\u000d\u000a\u0009END_CASE;\u000d\u000aELSE\u000d\u000a\u0009Stage:=0;\u000d\u000a\u0009send_tsReq:=FALSE;\u000d\u000a\u0009receive_time:=FALSE;\u000d\u000a\u000d\u000aEND_IF;\u000d\u000a\u0009\u000d\u000a\u0009\u000d\u000a\u0009","W":1079,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Operating"},{"__type":"LD","Ix":2,"Var":"Connected","X":1},{"__type":"LD","Var":"send_tsReq","X":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Execute"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":3,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"PacketID","IO":true,"Ix":4,"Type":"UINT","Var":"PacketID"},{"__type":"PRM","Arg":"MsgType","IO":true,"Ix":5,"Type":"USINT","Var":"MsgType"},{"__type":"PRM","Arg":"PubMsg","IO":true,"Ix":6,"Type":"STRING[1986]","Var":"timeRequest"},{"__type":"PRM","Arg":"PubSettings","Ix":7,"Type":"OmronLib\\MQTT_Comm\\sPubFlags","Var":"pubFlags"},{"__type":"PRM","Arg":"Topic","Ix":8,"Type":"STRING[512]","Var":"'plcTimeSynch\/req'"},{"__type":"PRM","Arg":"Timeout","Ix":9,"Type":"UINT","Var":"UINT#6"}],"Ix":18,"Name":"\\\\OmronLib\\MQTT_Comm\\MQTTPubString","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":10,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"PacketID","IO":true,"Ix":11,"Type":"UINT","Var":"PacketID"},{"__type":"PRM","Arg":"MsgType","IO":true,"Ix":12,"Type":"USINT","Var":"MsgType"},{"__type":"PRM","Arg":"PubMsg","IO":true,"Ix":13,"Type":"STRING[1986]","Var":"timeRequest"},{"__type":"PRM","Arg":"Busy","Ix":14,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"Error","Ix":15,"Type":"BOOL","Var":"MQTTPub_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":16,"Type":"WORD","Var":"MQTTPub_ErrorID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":17,"Type":"DWORD","Var":"MQTTPub_ErrorIDEx"}],"UD":true,"X":3,"Var":"MQTTPubString_inst_timeSync"}],"LRI":19,"RRI":20,"VLs":[]}
{"CLs":[{"__type":"LD","Ix":1,"Var":"Operating"},{"__type":"LD","Ix":2,"Var":"Connected","X":1},{"__type":"LD","Var":"receive_time","X":2},{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":3,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"RcvMsg","IO":true,"Ix":4,"Type":"STRING[1986]","Var":"rcvTime"},{"__type":"PRM","Arg":"SubQoS","Ix":5,"Type":"BYTE","Var":""},{"__type":"PRM","Arg":"Topic","Ix":6,"Type":"STRING[512]","Var":"'plcTimeSynch\/res'"},{"__type":"PRM","Arg":"Timeout","Ix":7,"Type":"UINT","Var":"uint#10"}],"Ix":16,"Name":"\\\\OmronLib\\MQTT_Comm\\MQTTSubString","Out":[{"__type":"PF","Arg":"Subscribed"},{"__type":"PRM","Arg":"ClientReference","IO":true,"Ix":8,"Type":"OmronLib\\MQTT_Comm\\sClientReference","Var":"clientReference"},{"__type":"PRM","Arg":"RcvMsg","IO":true,"Ix":9,"Type":"STRING[1986]","Var":"rcvTime"},{"__type":"PRM","Arg":"Status","Ix":10,"Type":"SINT","Var":""},{"__type":"PRM","Arg":"Received","Ix":11,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"RcvTopic","Ix":12,"Type":"STRING[512]","Var":""},{"__type":"PRM","Arg":"Error","Ix":13,"Type":"BOOL","Var":"MQTTSubString_Error"},{"__type":"PRM","Arg":"ErrorID","Ix":14,"Type":"WORD","Var":"MQTTSubString_ErrorID"},{"__type":"PRM","Arg":"ErrorIDEx","Ix":15,"Type":"DWORD","Var":"MQTTSubString_ErrorIDEx"}],"UD":true,"X":3,"Var":"MQTTSubString_inst_timeSynch"}],"LRI":17,"RRI":18,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"receive_time"},{"__type":"LD","Id":"0c960e38-0e01-45ab-87a9-bf8449101ea4","Ix":1,"Up":true,"Var":"MQTTSubString_inst_timeSynch.Received","X":1},{"__type":"IST","EID":"64a1da07-c6a6-4c83-bf1c-7d6af766fc7c","H":289,"Ix":2,"TXT":"IF len(rcvTime) = 13 THEN\u000d\u000a\u0009newDateTime := SecToDt(STRING_TO_LINT(LEFT(rcvTime,10)));\u000d\u000a\u0009SetTime(newDateTime);\u000d\u000a\u0009TimeSyncDone:=TRUE;\u000d\u000aELSE\u000d\u000a\u0009TimeSyncDone:=FALSE;\u000d\u000a\u0009TimeSyncFailed:=TRUE;\u000d\u000aEND_IF;\u000d\u000a","W":792,"X":2}],"LRI":3,"RRI":4,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"c7da2496-102b-4ccb-9cde-b5d1d0cca1b1","H":473,"TXT":"IF Operating THEN\u000d\u000a\u0009IF MQTTClient_error THEN \/\/ Client error\u000d\u000a\u0009\u0009Error:=TRUE;\u000d\u000a\u0009\u0009ErrorCode:=10;\u000d\u000a\u0009ELSIF MQTTSubString_inst.Error THEN \/\/ Sub (receive response to published message) error\u000d\u000a\u0009\u0009Error:=TRUE;\u000d\u000a\u0009\u0009ErrorCode:=20;\u000d\u000a\u0009ELSIF MQTTPubString_inst.Error THEN \/\/ Pub (publish message) error\u000d\u000a\u0009\u0009Error:=TRUE;\u000d\u000a\u0009\u0009ErrorCode:=30;\u000d\u000a\u0009ELSIF MQTTPubString_inst_timeSync.Error THEN \/\/ Pub (request time) error\u000d\u000a\u0009\u0009Error:=TRUE;\u000d\u000a\u0009\u0009ErrorCode:=40;\u000d\u000a\u0009ELSIF MQTTSubString_inst_timeSynch.Error THEN \/\/ Sub (receive time) error\u000d\u000a\u0009\u0009Error:=TRUE;\u000d\u000a\u0009\u0009ErrorCode:=50;\u000d\u000a\u0009ELSIF TimeSyncFailed THEN \/\/ The time syncronization failed (bad time received probably)\u000d\u000a\u0009\u0009Error:=TRUE;\u000d\u000a\u0009\u0009ErrorCode:=60;\u000d\u000a\u0009ELSE\u000d\u000a\u0009\u0009Error:=FALSE;\u000d\u000a\u0009\u0009ErrorCode:=0;\u000d\u000a\u0009END_IF;\u000d\u000aEND_IF;","W":897}],"CMT":"Errors","LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"Operating"},{"__type":"ST","Ix":1,"Var":"oEnable","X":1}],"LRI":2,"RRI":3,"VLs":[]}
