{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"iEnable"},{"__type":"PRM","Arg":"MQTT_ClientID","Type":"STRING[8]","Var":"'PLC21'"},{"__type":"PRM","Arg":"MessageStack","IO":true,"Ix":1,"Type":"ARRAY[*] OF MQTT_Message","Var":"gMqttMessage_Stack"},{"__type":"PRM","Arg":"IpAdress","Ix":2,"Type":"STRING[16]","Var":"'192.168.120.198'"},{"__type":"PRM","Arg":"PortNO","Ix":3,"Type":"UINT","Var":"1883"},{"__type":"PRM","Arg":"IndexStack","IO":true,"Ix":4,"Type":"ARRAY[*] OF SINT","Var":"gMqttIndexStack"},{"__type":"PRM","Arg":"IndexOfIndexStack","IO":true,"Ix":5,"Type":"UINT","Var":"gMqttIndexStack_Index"},{"__type":"PRM","Arg":"PublishTopic","Ix":6,"Type":"STRING[64]","Var":"'Alarms'"}],"Ix":12,"Name":"CF_SecureMqtt","Out":[{"__type":"PF","Arg":"oEnable"},{"__type":"PRM","Arg":"Error","Ix":7,"Type":"BOOL","Var":"CF_Alarms_com_Error"},{"__type":"PRM","Arg":"MessageStack","IO":true,"Ix":8,"Type":"ARRAY[*] OF MQTT_Message","Var":"gMqttMessage_Stack"},{"__type":"PRM","Arg":"ErrorCode","Ix":9,"Type":"INT","Var":"CF_Alarms_com_ErrorCode"},{"__type":"PRM","Arg":"IndexStack","IO":true,"Ix":10,"Type":"ARRAY[*] OF SINT","Var":"gMqttIndexStack"},{"__type":"PRM","Arg":"IndexOfIndexStack","IO":true,"Ix":11,"Type":"UINT","Var":"gMqttIndexStack_Index"}],"UD":true,"Var":"CF_Alarms_com_inst"}],"LRI":13,"RRI":14,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"CMod"},{"__type":"LD","Id":"a68838f0-2813-4804-ae80-d63dd9c6e268","Ix":1,"Up":true,"Var":"SMod","Y":1},{"__type":"F","In":[{"__type":"PF","Arg":"EN"},{"__type":"PRM","Arg":"In1","Ix":2,"Type":"ANY_ELEMENTARY, ENUM","Var":"stage"},{"__type":"PRM","Arg":"In2","Ix":3,"Type":"ANY_ELEMENTARY, ENUM","Var":"0"}],"Ix":4,"Name":"<>","Out":[{"__type":"PF","Arg":""}],"Y":2},{"__type":"IST","EID":"5d6be9fa-2b9e-4fbe-9143-8d75ad414c86","H":312,"Ix":5,"TXT":"stage:=1;\u000d\u000aCASE stage OF\u000d\u000a\u00090:\u000d\u000a\u0009\u0009pushResult := CF_InsertMessageStack(gMqttMessage_Stack, CONCAT('{\"Contenuto\":',ULINT_TO_STRING(data),'}'), 'dati', gMqttIndexStack, gMqttIndexStack_Index);\u000d\u000a\u0009\u0009IF pushResult THEN\u000d\u000a\u0009\u0009\u0009data:=data+1;\u000d\u000a\u0009\u0009\u0009stage:=0;\u000d\u000a\u0009\u0009END_IF;\u000d\u000a\u00091:\u000d\u000a\u0009pushResult := CF_InsertMessageStack(gMqttMessage_Stack, CONCAT('{\"Contenuto\":',ULINT_TO_STRING(data),'}'), 'allarmi', gMqttIndexStack, gMqttIndexStack_Index);\u000d\u000a\u0009IF pushResult THEN\u000d\u000a\u0009\u0009data:=data+1;\u000d\u000a\u0009\u0009stage:=0;\u000d\u000a\u0009END_IF;\u000d\u000aEND_CASE;","W":1274,"X":1}],"LRI":6,"RRI":7,"VLs":[{"Ix":8,"X":1},{"Ix":8,"X":1,"Y":1}]}
{"CLs":[{"__type":"LD","Id":"05bc4958-c6fb-4dec-8868-382c00000009","Up":true,"Var":"SMod"},{"__type":"ST","Id":"2336eae1-d380-4f2e-9edb-985f7242c66b","Ix":1,"RS":true,"Up":true,"Var":"SMod","X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"LD","Var":"ClearBuffer"},{"__type":"IST","EID":"3bf5228b-62e9-42cd-9879-6dcbd11863bf","H":85,"Ix":1,"TXT":"Clear(gMqttMessage_Stack);\u000d\u000aClear(gMqttIndexStack);\u000d\u000adata:=0;","W":400,"X":1}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"In"}],"Ix":1,"Name":"CF_GetMs","Out":[{"__type":"PF","Arg":"Q"},{"__type":"PRM","Arg":"Millisecond","Type":"LINT","Var":"gTIME_Milliseconds"}],"UD":true,"Var":"CF_GetMs_inst"}],"LRI":2,"RRI":3,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"7e84e4c5-0fba-47b8-8728-af371bbef4b5","H":112,"TXT":"bo := DtToSec(GetTime());\u000d\u000atempoMs:=(DtToSec(GetTime())* 1_000) + gTIME_Milliseconds;\u000d\u000a\u000d\u000atempoString:=CONCAT(LINT_TO_STRING(DtToSec(GetTime())),'.',LINT_TO_STRING(gTIME_Milliseconds));\u000d\u000a","W":1167}],"LRI":1,"RRI":2,"VLs":[]}
